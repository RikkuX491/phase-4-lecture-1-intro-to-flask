# Phase 4, Lecture 1: Intro to Flask

## Lecture Topics

- Flask
- Routing and Views
- Creating Responses
- Flask-SQLAlchemy

## Important Definitions

- Routing: Routing is the association of URLs and the code that should execute when a request comes in for that URL.
- Views: We call functions that map to URLs views. Everything you view in your application is generated by a view.

## Introduction

In today's lecture, we will discuss about Flask, Routing and Views, Creating Responses, and Flask-SQLAlchemy.

## Setup

1. Fork and then Clone this repository.
2. Make sure that you are in the correct directory (folder) that contains a `Pipfile`, then run `pipenv install` in your terminal to install the required libraries.
3. Now that your `pipenv` virtual environment is ready to use, enter `pipenv shell` to enter the virtual environment.
4. Enter the command `cd server` in the terminal to move into the server directory.
5. Write the following code after line 7 in `app.py`:

```py
app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///hotels.db'
app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False

migrate = Migrate(app, db)

db.init_app(app)
```

6. Write the following code within the `if __name__ == '__main__':` block of code in `app.py` (Make sure to delete `pass` before writing your code):

```py
app.run(port=7000, debug=True)
```

7. Run these commands in the terminal (make sure that you are in the `server` directory before running these terminal commands):

```py
export FLASK_APP=app.py
export FLASK_RUN_PORT=7000
flask db init
```

8. We will write code in the `models.py` file to design our `hotels` table and the columns for the table.

9. Run this command in the terminal to generate a migration file that will be used to create the hotels table and columns for the table (make sure that you are in the `server` directory before running this terminal command):

```py
flask db revision --autogenerate -m 'Create table hotels'
```

10. Run this command in the terminal to push the migration to our database (make sure that you are in the `server` directory before running this terminal command):

```py
flask db upgrade head
```

11. Run this command in the terminal to run the code in the seed.py file and seed the `hotels.db` database (add hotels to the hotels table). Again, make sure that you are in the `server` directory before running this terminal command:

```py
python seed.py
```